<div class="search-results-container">
  <h1 class="view-header">
    Resultados para: "{{ searchQuery }}"
  </h1>

  @if (isLoading) {
    <div class="content-loader">
      <div class="spinner"></div>
      <p>Buscando...</p>
    </div>
  } @else {
    @if (searchResults.length > 0) {
      <div class="indiciados-grid">
        @for (indiciado of searchResults; track indiciado.id) {
          <div class="indiciado-card clickable" (click)="goToIndiciado(indiciado)" title="Ir a la ubicación del indiciado">
            <div class="indiciado-card__photo-wrapper">
              <img [src]="indiciado.foto_url ? 'http://127.0.0.1:5000' + indiciado.foto_url : 'assets/placeholder-person.png'" 
                   alt="Foto de {{indiciado.nombres}}" class="indiciado-card__photo">
            </div>
            <div class="indiciado-card__info">
                <h4>{{ indiciado.nombres }} {{ indiciado.apellidos }}</h4>
                <p class="info-item"><span class="material-icons">fingerprint</span>{{ indiciado.cc }}</p>
                @if(indiciado.alias) {
                  <p class="info-item"><span class="material-icons">theater_comedy</span>{{ indiciado.alias }}</p>
                }
            </div>
          </div>
        }
      </div>
    } @else {
      <div class="content-placeholder secondary">
        <span class="material-icons placeholder-icon">search_off</span>
        <h2>No se encontraron resultados</h2>
        <p>Prueba con otro término de búsqueda.</p>
      </div>
    }
  }
</div>